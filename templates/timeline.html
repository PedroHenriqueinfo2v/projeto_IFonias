<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reposit칩rio Digital IFCM - Linha do Tempo</title>
    <link rel="stylesheet" href="static/css/timeline.css">
</head>
<body>
    <header class="navbar">
        <nav class="container">
            <ul class="navbar-nav">
                <li class="nav-item"><a href="timeline.html">Linha do Tempo</a></li>
                <li class="nav-item"><a href="upload.html">Publicar Novo 츼udio</a></li>
                <li class="nav-item"><a href="perfil.html">Meu Perfil</a></li> 
            </ul>
        </nav>
    </header>

    <div class="container">
        <h1>Novidades do Reposit칩rio</h1>
        
        <div class="card-audio">
            <div class="card-header">
                <div class="autor-info">
                    <a href="perfil.html" class="autor-link">Maria Eduarda (TI)</a>
                    <span class="data-publicacao">Publicado em 25/Nov, 18:30</span>
                </div>
            </div>
            <div class="player-container">
                <audio controls class="player-audio">
                    <source src="/arquivos/audio_teste_1.mp3" type="audio/mpeg">
                    Seu navegador n칚o suporta o player de 치udio.
                </audio>
            </div>
            <div class="card-body">
                <h3 class="titulo-audio">A Crise do Segundo Ano (Podcast)</h3>
                <p class="legenda">
                    Neste epis칩dio, conversamos sobre a press칚o dos trabalhos e a busca por est치gios. Coment치rios s칚o bem-vindos!
                </p>
            </div>
            <div class="card-footer">
                <a href="javascript:void(0)" class="btn-comentarios" onclick="openModal('A Crise do Segundo Ano (Podcast)', 'Maria Eduarda (TI)')">游눫 15 Coment치rios</a>
                <button class="btn-curtir">仇벒잺 42 Curtidas</button>
            </div>
        </div>

        <div class="card-audio">
            <div class="card-header">
                <div class="autor-info">
                    <a href="perfil.html" class="autor-link">Jo칚o V. (Mec칙nica)</a>
                    <span class="data-publicacao">Publicado em 24/Nov, 10:00</span>
                </div>
            </div>
            <div class="player-container">
                <audio controls class="player-audio">
                    <source src="/arquivos/lofi_joao.mp3" type="audio/mpeg">
                </audio>
            </div>
            <div class="card-body">
                <h3 class="titulo-audio">Trilha Lofi #1 - Para Estudar</h3>
                <p class="legenda">Minha primeira m칰sica eletr칪nica. Ideal para codar ou estudar f칤sica!</p>
            </div>
            <div class="card-footer">
                <a href="javascript:void(0)" class="btn-comentarios" onclick="openModal('Trilha Lofi #1 - Para Estudar', 'Jo칚o V. (Mec칙nica)')">游눫 3 Coment치rios</a>
                <button class="btn-curtir">仇벒잺 105 Curtidas</button>
            </div>
        </div>
    </div>
    
    
    <div id="commentsModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">칑</span>
            <h2>Coment치rios</h2>
            
            <div class="audio-summary-modal">
                <span class="summary-icon">游꿚</span>
                <p class="summary-title" id="modalAudioTitle">T칤tulo do 츼udio Selecionado</p>
                <p class="summary-meta" id="modalAudioAuthor">Por: Autor(a) / Curso</p>
            </div>
            
            <div id="commentsList" class="comments-list">
                <div class="comment-item">
                    <p class="comment-meta">**Aluno A (Mec칙nica)** - 1h atr치s</p>
                    <p class="comment-text">Me identifiquei muito com a press칚o do segundo ano!</p>
                </div>
                 <div class="comment-item">
                    <p class="comment-meta">**Aluno B (Qu칤mica)** - 30 min atr치s</p>
                    <p class="comment-text">칍tima iniciativa, parab칠ns!</p>
                </div>
            </div>
            
            <div class="comment-form-container">
                <h3>Adicionar Coment치rio</h3>
                <textarea id="newCommentText" placeholder="Escreva seu coment치rio aqui..."></textarea>
                <button onclick="submitComment()">Comentar</button>
            </div>
        </div>
    </div>
    
    <script>
        // Fun칞칚o para abrir o modal e carregar dados do 치udio (simulado)
        function openModal(audioTitle, audioAuthor) {
            // Carrega os dados do 치udio no cabe칞alho do modal
            document.getElementById('modalAudioTitle').innerText = audioTitle;
            document.getElementById('modalAudioAuthor').innerText = 'Por: ' + audioAuthor;

            // Exibe o modal
            document.getElementById('commentsModal').style.display = 'block';
        }

        // Fun칞칚o para fechar o modal
        function closeModal() {
            document.getElementById('commentsModal').style.display = 'none';
        }

        // Fun칞칚o que simula o envio do coment치rio
        function submitComment() {
            const commentText = document.getElementById('newCommentText').value;
            if (commentText.trim() === "") {
                alert("Por favor, escreva um coment치rio.");
                return;
            }
            
            // Simula칞칚o de adi칞칚o do coment치rio  lista
            const commentsList = document.getElementById('commentsList');
            const newCommentHTML = `
                <div class="comment-item">
                    <p class="comment-meta">**Voc칡 (Aluno IFRN)** - Agora</p>
                    <p class="comment-text">${commentText}</p>
                </div>
            `;
            // Adiciona no topo da lista
            commentsList.insertAdjacentHTML('afterbegin', newCommentHTML); 

            document.getElementById('newCommentText').value = ''; // Limpa o campo
            alert("Coment치rio adicionado. (Aten칞칚o: Funcionalidade real exige servidor/banco de dados)");
        }

        // Fechar o modal se o usu치rio clicar fora dele
        window.onclick = function(event) {
            const modal = document.getElementById('commentsModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>